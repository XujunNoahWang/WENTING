# æ–‡ä»¶å¤§å°å’Œå‘½åè§„èŒƒåˆ†ææŠ¥å‘Š

## ğŸ“Š æ–‡ä»¶å¤§å°åˆ†æ

### é¡¹ç›®æ–‡ä»¶å¤§å°åˆ†å¸ƒ

#### å‰ç«¯JavaScriptæ–‡ä»¶ (js/)
| æ–‡ä»¶å | å¤§å°(KB) | çŠ¶æ€ | é—®é¢˜æè¿° |
|--------|----------|------|----------|
| **app.js** | 87.89 | ğŸ”´ è¿‡å¤§ | ä¸»åº”ç”¨æ–‡ä»¶ï¼ŒåŒ…å«è¿‡å¤šåŠŸèƒ½æ¨¡å— |
| **todoManager.js** | 70.01 | ğŸ”´ è¿‡å¤§ | TODOç®¡ç†å™¨åŠŸèƒ½è¿‡äºé›†ä¸­ |
| **notesManager.js** | 55.92 | ğŸ”´ è¿‡å¤§ | ç¬”è®°ç®¡ç†å™¨ä»£ç å†—ä½™è¾ƒå¤š |
| **websocketClient.js** | 30.07 | ğŸŸ¡ è¾ƒå¤§ | WebSocketå®¢æˆ·ç«¯é€»è¾‘å¤æ‚ |
| **errorHandler.js** | 25.41 | ğŸŸ¡ è¾ƒå¤§ | é”™è¯¯å¤„ç†é€»è¾‘é›†ä¸­ |
| **weatherManager.js** | 24.60 | ğŸŸ¡ è¾ƒå¤§ | å¤©æ°”ç®¡ç†åŠŸèƒ½å®Œæ•´ä½†å¯ä¼˜åŒ– |
| **userManager.js** | 18.67 | ğŸŸ¢ æ­£å¸¸ | ç”¨æˆ·ç®¡ç†åŠŸèƒ½åˆç† |
| **apiClient.js** | 17.32 | ğŸŸ¢ æ­£å¸¸ | APIå®¢æˆ·ç«¯åŠŸèƒ½é€‚ä¸­ |
| **profileManager.js** | 16.03 | ğŸŸ¢ æ­£å¸¸ | ä¸ªäººèµ„æ–™ç®¡ç†åˆç† |
| **dateManager.js** | 13.62 | ğŸŸ¢ æ­£å¸¸ | æ—¥æœŸç®¡ç†åŠŸèƒ½ç®€æ´ |
| **deviceManager.js** | 11.99 | ğŸŸ¢ æ­£å¸¸ | è®¾å¤‡ç®¡ç†åŠŸèƒ½åˆç† |

#### åç«¯JavaScriptæ–‡ä»¶ (backend/)
| æ–‡ä»¶å | å¤§å°(KB) | çŠ¶æ€ | é—®é¢˜æè¿° |
|--------|----------|------|----------|
| **linkService.js** | 53.16 | ğŸ”´ è¿‡å¤§ | é“¾æ¥æœåŠ¡åŠŸèƒ½è¿‡äºå¤æ‚ |
| **websocketService.js** | 44.87 | ğŸŸ¡ è¾ƒå¤§ | WebSocketæœåŠ¡é€»è¾‘å¤æ‚ |
| **integration.test.js** | 33.27 | ğŸŸ¡ è¾ƒå¤§ | é›†æˆæµ‹è¯•æ–‡ä»¶è¾ƒå¤§ |
| **dataSyncService.js** | 30.36 | ğŸŸ¡ è¾ƒå¤§ | æ•°æ®åŒæ­¥æœåŠ¡åŠŸèƒ½ä¸°å¯Œ |
| **Todo.js** | 26.74 | ğŸŸ¡ è¾ƒå¤§ | TODOæ¨¡å‹åŠŸèƒ½å®Œæ•´ |
| **e2e.test.js** | 24.33 | ğŸŸ¡ è¾ƒå¤§ | ç«¯åˆ°ç«¯æµ‹è¯•è¦†ç›–å…¨é¢ |
| **errorHandlingService.js** | 20.51 | ğŸŸ¢ æ­£å¸¸ | é”™è¯¯å¤„ç†æœåŠ¡åˆç† |
| **aiService.js** | 19.09 | ğŸŸ¢ æ­£å¸¸ | AIæœåŠ¡åŠŸèƒ½é€‚ä¸­ |

### ğŸš¨ å¤§æ–‡ä»¶é—®é¢˜åˆ†æ

#### 1. app.js (87.89KB) - ä¸¥é‡é—®é¢˜
**é—®é¢˜æè¿°:**
- åŒ…å«åº”ç”¨åˆå§‹åŒ–ã€æ¨¡å—ç®¡ç†ã€äº‹ä»¶ç»‘å®šç­‰å¤šç§åŠŸèƒ½
- å•ä¸€æ–‡ä»¶æ‰¿æ‹…è¿‡å¤šèŒè´£ï¼Œè¿åå•ä¸€èŒè´£åŸåˆ™
- ç»´æŠ¤å›°éš¾ï¼Œä¿®æ”¹é£é™©é«˜

**å»ºè®®æ‹†åˆ†:**
```javascript
// å»ºè®®æ‹†åˆ†ä¸ºä»¥ä¸‹æ–‡ä»¶:
app/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ AppInitializer.js     // åº”ç”¨åˆå§‹åŒ–
â”‚   â”œâ”€â”€ ModuleManager.js      // æ¨¡å—ç®¡ç†
â”‚   â””â”€â”€ EventBus.js          // äº‹ä»¶æ€»çº¿
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ UIManager.js         // UIç®¡ç†
â”‚   â””â”€â”€ NavigationManager.js // å¯¼èˆªç®¡ç†
â””â”€â”€ App.js                   // ä¸»å…¥å£æ–‡ä»¶ (<20KB)
```

#### 2. todoManager.js (70.01KB) - ä¸¥é‡é—®é¢˜
**é—®é¢˜æè¿°:**
- TODOçš„å¢åˆ æ”¹æŸ¥ã€æ¸²æŸ“ã€ç¼“å­˜ã€åŒæ­¥ç­‰åŠŸèƒ½å…¨éƒ¨é›†ä¸­
- å‡½æ•°è¿‡é•¿ï¼Œéƒ¨åˆ†å‡½æ•°è¶…è¿‡100è¡Œ
- ä»£ç é‡å¤ç‡è¾ƒé«˜

**å»ºè®®æ‹†åˆ†:**
```javascript
// å»ºè®®æ‹†åˆ†ä¸ºä»¥ä¸‹æ¨¡å—:
todo/
â”œâ”€â”€ TodoManager.js           // ä¸»ç®¡ç†å™¨ (<20KB)
â”œâ”€â”€ TodoRenderer.js          // æ¸²æŸ“é€»è¾‘
â”œâ”€â”€ TodoCache.js            // ç¼“å­˜ç®¡ç†
â”œâ”€â”€ TodoSync.js             // åŒæ­¥é€»è¾‘
â”œâ”€â”€ TodoValidator.js        // æ•°æ®éªŒè¯
â””â”€â”€ TodoUtils.js            // å·¥å…·å‡½æ•°
```

#### 3. notesManager.js (55.92KB) - ä¸¥é‡é—®é¢˜
**é—®é¢˜æè¿°:**
- ç¬”è®°ç®¡ç†åŠŸèƒ½è¿‡äºé›†ä¸­
- åŒ…å«å¤§é‡é‡å¤çš„DOMæ“ä½œä»£ç 
- ç¼ºå°‘ç»„ä»¶åŒ–è®¾è®¡

**å»ºè®®æ‹†åˆ†:**
```javascript
// å»ºè®®æ‹†åˆ†ä¸ºä»¥ä¸‹æ¨¡å—:
notes/
â”œâ”€â”€ NotesManager.js          // ä¸»ç®¡ç†å™¨ (<20KB)
â”œâ”€â”€ NotesEditor.js          // ç¼–è¾‘å™¨ç»„ä»¶
â”œâ”€â”€ NotesRenderer.js        // æ¸²æŸ“ç»„ä»¶
â”œâ”€â”€ NotesStorage.js         // å­˜å‚¨ç®¡ç†
â””â”€â”€ NotesUtils.js           // å·¥å…·å‡½æ•°
```

#### 4. linkService.js (53.16KB) - åç«¯é—®é¢˜
**é—®é¢˜æè¿°:**
- é“¾æ¥å¤„ç†ã€éªŒè¯ã€å®‰å…¨æ£€æŸ¥ç­‰åŠŸèƒ½é›†ä¸­
- åŒ…å«å¤§é‡æ­£åˆ™è¡¨è¾¾å¼å’ŒéªŒè¯é€»è¾‘
- é”™è¯¯å¤„ç†é€»è¾‘å†—ä½™

**å»ºè®®æ‹†åˆ†:**
```javascript
// å»ºè®®æ‹†åˆ†ä¸ºä»¥ä¸‹æ¨¡å—:
services/link/
â”œâ”€â”€ LinkService.js           // ä¸»æœåŠ¡ (<20KB)
â”œâ”€â”€ LinkValidator.js         // é“¾æ¥éªŒè¯
â”œâ”€â”€ LinkSecurity.js         // å®‰å…¨æ£€æŸ¥
â”œâ”€â”€ LinkParser.js           // é“¾æ¥è§£æ
â””â”€â”€ LinkUtils.js            // å·¥å…·å‡½æ•°
```

---

## ğŸ·ï¸ å‘½åè§„èŒƒåˆ†æ

### JavaScriptå‘½åè§„èŒƒæ£€æŸ¥

#### âœ… è‰¯å¥½çš„å‘½åå®è·µ

1. **æ¨¡å—å‘½å (PascalCase)**
```javascript
// âœ… æ­£ç¡®çš„æ¨¡å—å‘½å
const TodoManager = { ... };
const WebSocketClient = { ... };
const WeatherManager = { ... };
const NotesManager = { ... };
const UserManager = { ... };
```

2. **å‡½æ•°å‘½å (camelCase)**
```javascript
// âœ… æ­£ç¡®çš„å‡½æ•°å‘½å
async initializeApp() { ... }
async loadTodosFromAPI() { ... }
handleGlobalStateChange() { ... }
getWebSocketURL() { ... }
```

3. **å˜é‡å‘½å (camelCase)**
```javascript
// âœ… æ­£ç¡®çš„å˜é‡å‘½å
const currentUser = 1;
const selectedDate = new Date();
const isOnline = false;
const weatherData = null;
```

#### âš ï¸ å‘½åè§„èŒƒé—®é¢˜

1. **å¸¸é‡å‘½åä¸ä¸€è‡´**
```javascript
// âŒ åº”è¯¥ä½¿ç”¨UPPER_SNAKE_CASE
const maxReconnectAttempts = 5;  // åº”è¯¥æ˜¯ MAX_RECONNECT_ATTEMPTS
const reconnectInterval = 3000;  // åº”è¯¥æ˜¯ RECONNECT_INTERVAL

// âœ… æ­£ç¡®çš„å¸¸é‡å‘½å
const MAX_RECONNECT_ATTEMPTS = 5;
const RECONNECT_INTERVAL = 3000;
const DEFAULT_TIMEOUT = 30000;
```

2. **æ•°æ®åº“å­—æ®µå‘½åæ··ä¹±**
```javascript
// âŒ å‰ç«¯ä½¿ç”¨camelCaseï¼Œä½†æ•°æ®åº“ä½¿ç”¨snake_case
// è¿™å¯¼è‡´éœ€è¦å¤§é‡çš„å­—æ®µè½¬æ¢ä»£ç 

// æ•°æ®åº“å­—æ®µ (snake_case):
// user_id, todo_id, created_at, updated_at, is_active, is_completed

// å‰ç«¯æœŸæœ› (camelCase):
// userId, todoId, createdAt, updatedAt, isActive, isCompleted
```

3. **äº‹ä»¶åç§°ä¸ç»Ÿä¸€**
```javascript
// âŒ äº‹ä»¶å‘½åä¸ä¸€è‡´
'TODO_SYNC_UPDATE'     // UPPER_SNAKE_CASE
'userChanged'          // camelCase
'notes-updated'        // kebab-case

// âœ… å»ºè®®ç»Ÿä¸€ä½¿ç”¨UPPER_SNAKE_CASE
'TODO_SYNC_UPDATE'
'USER_CHANGED'
'NOTES_UPDATED'
```

#### ğŸ”§ å‘½åè§„èŒƒå»ºè®®

1. **å»ºç«‹å‘½åè§„èŒƒæ–‡æ¡£**
```javascript
// å‘½åè§„èŒƒæ ‡å‡†:
// - æ¨¡å—/ç±»: PascalCase (TodoManager, WebSocketClient)
// - å‡½æ•°/æ–¹æ³•: camelCase (getUserData, handleClick)
// - å˜é‡: camelCase (currentUser, selectedDate)
// - å¸¸é‡: UPPER_SNAKE_CASE (MAX_ATTEMPTS, API_ENDPOINT)
// - äº‹ä»¶: UPPER_SNAKE_CASE (USER_CHANGED, DATA_UPDATED)
// - CSSç±»: kebab-case (todo-item, user-profile)
// - æ–‡ä»¶å: camelCase.js (todoManager.js, userService.js)
```

2. **æ•°æ®åº“å­—æ®µæ˜ å°„**
```javascript
// âœ… å»ºè®®åˆ›å»ºå­—æ®µæ˜ å°„å·¥å…·
const FieldMapper = {
    toDatabase: {
        userId: 'user_id',
        todoId: 'todo_id',
        createdAt: 'created_at',
        updatedAt: 'updated_at',
        isActive: 'is_active',
        isCompleted: 'is_completed'
    },
    
    fromDatabase: {
        user_id: 'userId',
        todo_id: 'todoId',
        created_at: 'createdAt',
        updated_at: 'updatedAt',
        is_active: 'isActive',
        is_completed: 'isCompleted'
    }
};
```

---

## ğŸ“ˆ æ”¹è¿›å»ºè®®

### ç«‹å³ä¿®å¤ (é«˜ä¼˜å…ˆçº§)

1. **æ‹†åˆ†å¤§æ–‡ä»¶**
   - å°†app.jsæ‹†åˆ†ä¸º5-6ä¸ªæ¨¡å—æ–‡ä»¶
   - å°†todoManager.jsæŒ‰åŠŸèƒ½æ‹†åˆ†ä¸º6ä¸ªæ–‡ä»¶
   - å°†notesManager.jsæ‹†åˆ†ä¸º5ä¸ªæ–‡ä»¶

2. **ç»Ÿä¸€å‘½åè§„èŒƒ**
   - å»ºç«‹é¡¹ç›®å‘½åè§„èŒƒæ–‡æ¡£
   - åˆ›å»ºESLintè§„åˆ™å¼ºåˆ¶æ‰§è¡Œå‘½åè§„èŒƒ
   - ç»Ÿä¸€äº‹ä»¶å‘½åä¸ºUPPER_SNAKE_CASE

### çŸ­æœŸæ”¹è¿› (1-2å‘¨)

1. **æ¨¡å—åŒ–é‡æ„**
   - å®ç°æ¨¡å—æ‡’åŠ è½½
   - å»ºç«‹ç»Ÿä¸€çš„æ¨¡å—æ¥å£
   - åˆ›å»ºæ¨¡å—ä¾èµ–ç®¡ç†ç³»ç»Ÿ

2. **ä»£ç ç»„ç»‡ä¼˜åŒ–**
   - æŒ‰åŠŸèƒ½åŸŸç»„ç»‡æ–‡ä»¶ç»“æ„
   - å»ºç«‹å…¬å…±ç»„ä»¶åº“
   - å®ç°ä»£ç å¤ç”¨æœºåˆ¶

### é•¿æœŸè§„åˆ’ (1ä¸ªæœˆ+)

1. **æ¶æ„å‡çº§**
   - è€ƒè™‘ä½¿ç”¨æ¨¡å—æ‰“åŒ…å·¥å…·(Webpack/Rollup)
   - å®ç°ä»£ç åˆ†å‰²å’ŒæŒ‰éœ€åŠ è½½
   - å»ºç«‹ç»„ä»¶åŒ–å¼€å‘æ¨¡å¼

2. **å¼€å‘è§„èŒƒ**
   - å»ºç«‹ä»£ç å®¡æŸ¥æµç¨‹
   - é›†æˆè‡ªåŠ¨åŒ–ä»£ç æ£€æŸ¥
   - å»ºç«‹æ–‡ä»¶å¤§å°ç›‘æ§æœºåˆ¶

---

## ğŸ“Š æ–‡ä»¶å¤§å°ç›®æ ‡

### æ¨èçš„æ–‡ä»¶å¤§å°æ ‡å‡†

| æ–‡ä»¶ç±»å‹ | ç†æƒ³å¤§å° | æœ€å¤§é™åˆ¶ | å½“å‰çŠ¶æ€ |
|----------|----------|----------|----------|
| **æ ¸å¿ƒæ¨¡å—** | <20KB | <30KB | âŒ 3ä¸ªæ–‡ä»¶è¶…æ ‡ |
| **åŠŸèƒ½æ¨¡å—** | <15KB | <25KB | âš ï¸ 5ä¸ªæ–‡ä»¶è¶…æ ‡ |
| **å·¥å…·å‡½æ•°** | <10KB | <15KB | âœ… å¤§éƒ¨åˆ†ç¬¦åˆ |
| **é…ç½®æ–‡ä»¶** | <5KB | <10KB | âœ… å…¨éƒ¨ç¬¦åˆ |

### é¢„æœŸæ”¹è¿›æ•ˆæœ

é€šè¿‡æ–‡ä»¶æ‹†åˆ†å’Œé‡æ„ï¼Œé¢„æœŸå¯ä»¥è¾¾åˆ°:
- **å¤§æ–‡ä»¶æ•°é‡**: 8ä¸ª â†’ 0ä¸ª
- **å¹³å‡æ–‡ä»¶å¤§å°**: 25KB â†’ 12KB
- **æœ€å¤§æ–‡ä»¶å¤§å°**: 87KB â†’ 25KB
- **ä»£ç å¯ç»´æŠ¤æ€§**: æ˜¾è‘—æå‡
- **å¼€å‘æ•ˆç‡**: æå‡30-40%

---

*æ–‡ä»¶å¤§å°åˆ†æå®Œæˆæ—¶é—´: 2025å¹´8æœˆ15æ—¥*  
*å»ºè®®ä¼˜å…ˆå¤„ç†æ ‡è®°ä¸ºğŸ”´çš„å¤§æ–‡ä»¶é—®é¢˜*